<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>아이템 수정</title>
</head>
<body>
<h2>아이템 수정</h2>

<form th:action="@{/item/sujungProc}" method="post" enctype="multipart/form-data">
  <!-- 기존 itemId 유지 -->
  <input type="hidden" name="itemId" th:value="${item.itemId}" />

  <label>이름:
    <input type="text" name="itemName" th:value="${item.itemName}" required>
  </label><br>

  <label>설명:
    <input type="text" name="itemDescription" th:value="${item.itemDescription}" required>
  </label><br>

  <label>가격:
    <input type="number" name="price" th:value="${item.price}" required>
  </label><br>

  <!-- 기존 이미지 미리보기 -->
  <div>
    <p>현재 이미지:</p>
    <img th:src="@{'/' + (${item.itemType} == 'frame' ? 'frames/' : 'images/') + ${item.itemImage}}"
         alt="기존 이미지"
         style="width:100px; height:100px; object-fit:cover; border:1px solid #ccc;">
  </div><br>

  <!-- 새 이미지 업로드 -->
  <label>새 이미지 업로드:
    <input type="file" name="imageFile">
  </label><br><br>

  <button type="submit">수정</button>
</form>

<a href="/item/admin">← 목록으로</a>
<!-- 푸터 프래그먼트 삽입 -->
<div th:replace="~{fragments/footer :: footerFragment}"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>