<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>오답노트</title>

    <!-- Bootstrap & Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body class="min-h-screen flex flex-col">

<!-- 헤더 -->
<div th:replace="~{fragments/header :: headerFragment}"></div>

<!-- 본문 -->
<main class="flex-1 p-4">

    <h2 class="text-2xl font-semibold mb-4">오답노트</h2>
    <div class="flex gap-5">
        <!-- ✅ 단어 오답 -->
        <div class="flex-1">
            <h3 class="text-xl mb-2">📘 단어 오답</h3>
            <table class="w-full border border-gray-300" th:if="${!#lists.isEmpty(wordNotes)}">
                <thead class="bg-gray-100">
                <tr>
                    <th class="border px-2 py-1 text-left">단어</th>
                    <th class="border px-2 py-1 text-left">뜻</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="note : ${wordNotes}">
                    <td class="border px-2 py-1" th:text="${note.voca.vocabulary}"></td>
                    <td class="border px-2 py-1" th:text="${note.voca.description}"></td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- ✅ 문장 오답 -->
        <div class="flex-1">
            <h3 class="text-xl mb-2">📙 문장 오답</h3>
            <table class="w-full border border-gray-300" th:if="${!#lists.isEmpty(sentenceNotes)}">
                <thead class="bg-gray-100">
                <tr>
                    <th class="border px-2 py-1 text-left">문장</th>
                    <th class="border px-2 py-1 text-left">해석</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="note : ${sentenceNotes}">
                    <td class="border px-2 py-1" th:text="${note.sentence.munjang.replace('^', ' ')}"></td>
                    <td class="border px-2 py-1" th:text="${note.sentence.description.replace('^', ' ')}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 전체 오답노트가 비어 있을 경우 -->
    <p th:if="${#lists.isEmpty(notes)}" class="mt-4">오답노트가 비어 있습니다.</p>
</main>

<!-- 푸터 -->
<div th:replace="~{fragments/footer :: footerFragment}" class="bg-gray-100 text-center py-4"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
