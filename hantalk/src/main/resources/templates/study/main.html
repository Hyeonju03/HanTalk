<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학습 메뉴</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 커스텀 색상 정의 */
        .bg-main-dark { background-color: #2F4160; }
        .text-main-dark { color: #2F4160; }
        .bg-accent-pink { background-color: #F29DA0; }
        .text-accent-pink { color: #F29DA0; }
        .bg-soft-blue { background-color: #B5D0E3; }
        .text-soft-blue { color: #B5D0E3; }
        .hover-bg-soft-blue:hover { background-color: #B5D0E3; }
        .hover-text-accent-pink:hover { color: #F29DA0; }
        /* 게시판 레이아웃을 위한 커스텀 컨테이너 */
        .container-custom {
          max-width: 1000px;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col bg-gray-50 font-sans">

<div th:replace="~{fragments/header :: headerFragment}"></div>

<main class="flex-grow flex justify-center p-8 space-x-8">

    <div class="w-64">
        <aside class="bg-[#B5D0E3] shadow-xl p-6 rounded-xl">
            <h2 class="text-xl font-bold mb-4 text-[#2F4160]">학습 목록</h2>
            <nav class="space-y-2">
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="lesson1">단어 맞추기</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="lesson2">문장 나열하기</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="lesson3">객관식 문제</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="lesson4">받아쓰기</button>
                <hr class="my-4 border-gray-200" />
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="note">오답노트</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="vocaList">단어장 (단어)</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="sentenceList">단어장 (문장)</button>
            </nav>
        </aside>
    </div>

    <div class="container-custom w-full">
        <div class="bg-white p-8 rounded-xl shadow-xl flex items-center justify-center h-full">
            <div id="main-content-area" class="w-full max-w-2xl text-center">
                <h2 id="content-title" class="text-3xl font-bold text-main-dark mb-4">
                    학습 메뉴를 선택해 주세요
                </h2>
                <img id="main-image" src="https://placehold.co/600x400/E5E7EB/4B5563?text=메뉴를 선택해 주세요" alt="선택된 학습 메뉴 이미지" class="w-full h-auto rounded-lg shadow-md mb-6" />
                <p id="content-description" class="text-gray-600 mb-8">
                    왼쪽 사이드바에서 원하는 학습 항목을 선택하면, 해당 학습에 대한 정보가 여기에 표시됩니다.
                </p>
                <a id="start-lesson-button" href="#"
                   class="inline-block px-8 py-4 text-xl font-bold bg-accent-pink text-white rounded-full shadow-lg hover:bg-[#2F4160] transition-colors duration-200">
                    학습 시작하기
                </a>
            </div>
        </div>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      // 각 메뉴 아이템에 대한 데이터 정의
      const menuData = {
        lesson1: {
          title: "Lesson 1 - 단어 맞추기",
          image: "https://placehold.co/600x400/F29DA0/2F4160?text=단어 맞추기",
          description: "이미지와 주어진 단어 조각을 활용하여 올바른 단어를 만들어 보세요.",
          link: "/study/lesson1"
        },
        lesson2: {
          title: "Lesson 2 - 문장 나열하기",
          image: "https://placehold.co/600x400/B5D0E3/2F4160?text=문장 나열하기",
          description: "흩어진 문장들을 순서대로 배열하여 올바른 문장을 완성하세요.",
          link: "/study/lesson2"
        },
        lesson3: {
          title: "Lesson 3 - 객관식 문제",
          image: "https://placehold.co/600x400/F29DA0/2F4160?text=객관식 문제",
          description: "제공된 보기 중 정답을 선택하여 문제를 풀어보세요.",
          link: "/study/lesson3"
        },
        lesson4: {
          title: "Lesson 4 - 받아쓰기",
          image: "https://placehold.co/600x400/B5D0E3/2F4160?text=받아쓰기",
          description: "음성을 듣고 들리는 대로 문장을 정확히 받아쓰세요.",
          link: "/study/lesson4"
        },
        note: {
          title: "오답노트",
          image: "https://placehold.co/600x400/F29DA0/2F4160?text=오답노트",
          description: "틀렸던 문제들을 다시 풀고 복습하는 공간입니다.",
          link: "/study/note"
        },
        vocaList: {
          title: "📚 단어장 (단어)",
          image: "https://placehold.co/600x400/B5D0E3/2F4160?text=단어장",
          description: "자주 틀리거나 중요한 단어들을 모아 나만의 단어장을 만들 수 있습니다.",
          link: "/study/vocaList"
        },
        sentenceList: {
          title: "📝 단어장 (문장)",
          image: "https://placehold.co/600x400/F29DA0/2F4160?text=문장장",
          description: "자주 틀리거나 중요한 문장들을 모아 나만의 문장장을 만들 수 있습니다.",
          link: "/study/sentenceList"
        }
      };

      const contentArea = document.getElementById('main-content-area');
      const startButton = document.getElementById('start-lesson-button');
      const mainImage = document.getElementById('main-image');
      const contentTitle = document.getElementById('content-title');
      const contentDescription = document.getElementById('content-description');

      // 메뉴 클릭 핸들러
      document.querySelectorAll('.sidebar-link').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault(); // 기본 링크 이동 방지
          const lessonId = e.currentTarget.dataset.lesson;
          const data = menuData[lessonId];

          // 모든 링크에서 'active' 클래스 제거
          document.querySelectorAll('.sidebar-link').forEach(item => {
            item.classList.remove('bg-[#F29DA0]', 'text-white');
            item.classList.add('text-[#2F4160]', 'hover:bg-[#F29DA0]');
          });

          // 클릭된 링크에 'active' 클래스 추가
          e.currentTarget.classList.add('bg-[#F29DA0]', 'text-white');
          e.currentTarget.classList.remove('text-[#2F4160]', 'hover:bg-[#F29DA0]');

          // 콘텐츠 영역 업데이트
          contentTitle.textContent = data.title;
          mainImage.src = data.image;
          contentDescription.textContent = data.description;
          startButton.href = data.link;

          // 콘텐츠 영역이 숨겨져 있으면 보이게 함
          contentArea.classList.remove('hidden');
        });
      });
    });

    // 팝업 창 함수
    function openLesson(url) {
      const popupWidth = 950;
      const popupHeight = 550;
      const left = (screen.width / 2) - (popupWidth / 2);
      const top = (screen.height / 2) - (popupHeight / 2);
      window.open(
        url,
        'lessonPopup',
        `width=${popupWidth},height=${popupHeight},left=${left},top=${top},scrollbars=yes,resizable=no`
      );
    }
</script>

<div class="py-4 text-gray-500 text-center text-sm bg-gray-100" th:replace="~{fragments/footer :: footerFragment}"></div>

</body>
</html>