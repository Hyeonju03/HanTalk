<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™ìŠµ ë©”ë‰´</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ì»¤ìŠ¤í…€ ìƒ‰ìƒ ì •ì˜ */
        .bg-main-dark { background-color: #2F4160; }
        .text-main-dark { color: #2F4160; }
        .bg-accent-pink { background-color: #F29DA0; }
        .text-accent-pink { color: #F29DA0; }
        .bg-soft-blue { background-color: #B5D0E3; }
        .text-soft-blue { color: #B5D0E3; }
        .hover-bg-soft-blue:hover { background-color: #B5D0E3; }
        .hover-text-accent-pink:hover { color: #F29DA0; }
        /* ê²Œì‹œíŒ ë ˆì´ì•„ì›ƒì„ ìœ„í•œ ì»¤ìŠ¤í…€ ì»¨í…Œì´ë„ˆ */
        .container-custom {
          max-width: 1000px;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col bg-gray-50 font-sans">

<div th:replace="~{fragments/header :: headerFragment}"></div>

<main class="flex-grow flex justify-center p-8 space-x-8">

    <div class="w-64">
        <aside class="bg-[#B5D0E3] shadow-xl p-6 rounded-xl">
            <h2 class="text-xl font-bold mb-4 text-[#2F4160]">í•™ìŠµ ëª©ë¡</h2>
            <nav class="space-y-2">
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="lesson1">ë‹¨ì–´ ë§ì¶”ê¸°</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="lesson2">ë¬¸ì¥ ë‚˜ì—´í•˜ê¸°</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="lesson3">ê°ê´€ì‹ ë¬¸ì œ</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="lesson4">ë°›ì•„ì“°ê¸°</button>
                <hr class="my-4 border-gray-200" />
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="note">ì˜¤ë‹µë…¸íŠ¸</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="vocaList">ë‹¨ì–´ì¥ (ë‹¨ì–´)</button>
                <button class="sidebar-link w-full text-left p-3 rounded-lg font-medium text-[#2F4160] hover:bg-[#F29DA0] transition-colors duration-200" data-lesson="sentenceList">ë‹¨ì–´ì¥ (ë¬¸ì¥)</button>
            </nav>
        </aside>
    </div>

    <div class="container-custom w-full">
        <div class="bg-white p-8 rounded-xl shadow-xl flex items-center justify-center h-full">
            <div id="main-content-area" class="w-full max-w-2xl text-center">
                <h2 id="content-title" class="text-3xl font-bold text-main-dark mb-4">
                    í•™ìŠµ ë©”ë‰´ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”
                </h2>
                <img id="main-image" src="https://placehold.co/600x400/E5E7EB/4B5563?text=ë©”ë‰´ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”" alt="ì„ íƒëœ í•™ìŠµ ë©”ë‰´ ì´ë¯¸ì§€" class="w-full h-auto rounded-lg shadow-md mb-6" />
                <p id="content-description" class="text-gray-600 mb-8">
                    ì™¼ìª½ ì‚¬ì´ë“œë°”ì—ì„œ ì›í•˜ëŠ” í•™ìŠµ í•­ëª©ì„ ì„ íƒí•˜ë©´, í•´ë‹¹ í•™ìŠµì— ëŒ€í•œ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                </p>
                <a id="start-lesson-button" href="#"
                   class="inline-block px-8 py-4 text-xl font-bold bg-accent-pink text-white rounded-full shadow-lg hover:bg-[#2F4160] transition-colors duration-200">
                    í•™ìŠµ ì‹œì‘í•˜ê¸°
                </a>
            </div>
        </div>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      // ê° ë©”ë‰´ ì•„ì´í…œì— ëŒ€í•œ ë°ì´í„° ì •ì˜
      const menuData = {
        lesson1: {
          title: "Lesson 1 - ë‹¨ì–´ ë§ì¶”ê¸°",
          image: "https://placehold.co/600x400/F29DA0/2F4160?text=ë‹¨ì–´ ë§ì¶”ê¸°",
          description: "ì´ë¯¸ì§€ì™€ ì£¼ì–´ì§„ ë‹¨ì–´ ì¡°ê°ì„ í™œìš©í•˜ì—¬ ì˜¬ë°”ë¥¸ ë‹¨ì–´ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”.",
          link: "/study/lesson1"
        },
        lesson2: {
          title: "Lesson 2 - ë¬¸ì¥ ë‚˜ì—´í•˜ê¸°",
          image: "https://placehold.co/600x400/B5D0E3/2F4160?text=ë¬¸ì¥ ë‚˜ì—´í•˜ê¸°",
          description: "í©ì–´ì§„ ë¬¸ì¥ë“¤ì„ ìˆœì„œëŒ€ë¡œ ë°°ì—´í•˜ì—¬ ì˜¬ë°”ë¥¸ ë¬¸ì¥ì„ ì™„ì„±í•˜ì„¸ìš”.",
          link: "/study/lesson2"
        },
        lesson3: {
          title: "Lesson 3 - ê°ê´€ì‹ ë¬¸ì œ",
          image: "https://placehold.co/600x400/F29DA0/2F4160?text=ê°ê´€ì‹ ë¬¸ì œ",
          description: "ì œê³µëœ ë³´ê¸° ì¤‘ ì •ë‹µì„ ì„ íƒí•˜ì—¬ ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”.",
          link: "/study/lesson3"
        },
        lesson4: {
          title: "Lesson 4 - ë°›ì•„ì“°ê¸°",
          image: "https://placehold.co/600x400/B5D0E3/2F4160?text=ë°›ì•„ì“°ê¸°",
          description: "ìŒì„±ì„ ë“£ê³  ë“¤ë¦¬ëŠ” ëŒ€ë¡œ ë¬¸ì¥ì„ ì •í™•íˆ ë°›ì•„ì“°ì„¸ìš”.",
          link: "/study/lesson4"
        },
        note: {
          title: "ì˜¤ë‹µë…¸íŠ¸",
          image: "https://placehold.co/600x400/F29DA0/2F4160?text=ì˜¤ë‹µë…¸íŠ¸",
          description: "í‹€ë ¸ë˜ ë¬¸ì œë“¤ì„ ë‹¤ì‹œ í’€ê³  ë³µìŠµí•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.",
          link: "/study/note"
        },
        vocaList: {
          title: "ğŸ“š ë‹¨ì–´ì¥ (ë‹¨ì–´)",
          image: "https://placehold.co/600x400/B5D0E3/2F4160?text=ë‹¨ì–´ì¥",
          description: "ìì£¼ í‹€ë¦¬ê±°ë‚˜ ì¤‘ìš”í•œ ë‹¨ì–´ë“¤ì„ ëª¨ì•„ ë‚˜ë§Œì˜ ë‹¨ì–´ì¥ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
          link: "/study/vocaList"
        },
        sentenceList: {
          title: "ğŸ“ ë‹¨ì–´ì¥ (ë¬¸ì¥)",
          image: "https://placehold.co/600x400/F29DA0/2F4160?text=ë¬¸ì¥ì¥",
          description: "ìì£¼ í‹€ë¦¬ê±°ë‚˜ ì¤‘ìš”í•œ ë¬¸ì¥ë“¤ì„ ëª¨ì•„ ë‚˜ë§Œì˜ ë¬¸ì¥ì¥ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
          link: "/study/sentenceList"
        }
      };

      const contentArea = document.getElementById('main-content-area');
      const startButton = document.getElementById('start-lesson-button');
      const mainImage = document.getElementById('main-image');
      const contentTitle = document.getElementById('content-title');
      const contentDescription = document.getElementById('content-description');

      // ë©”ë‰´ í´ë¦­ í•¸ë“¤ëŸ¬
      document.querySelectorAll('.sidebar-link').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault(); // ê¸°ë³¸ ë§í¬ ì´ë™ ë°©ì§€
          const lessonId = e.currentTarget.dataset.lesson;
          const data = menuData[lessonId];

          // ëª¨ë“  ë§í¬ì—ì„œ 'active' í´ë˜ìŠ¤ ì œê±°
          document.querySelectorAll('.sidebar-link').forEach(item => {
            item.classList.remove('bg-[#F29DA0]', 'text-white');
            item.classList.add('text-[#2F4160]', 'hover:bg-[#F29DA0]');
          });

          // í´ë¦­ëœ ë§í¬ì— 'active' í´ë˜ìŠ¤ ì¶”ê°€
          e.currentTarget.classList.add('bg-[#F29DA0]', 'text-white');
          e.currentTarget.classList.remove('text-[#2F4160]', 'hover:bg-[#F29DA0]');

          // ì½˜í…ì¸  ì˜ì—­ ì—…ë°ì´íŠ¸
          contentTitle.textContent = data.title;
          mainImage.src = data.image;
          contentDescription.textContent = data.description;
          startButton.href = data.link;

          // ì½˜í…ì¸  ì˜ì—­ì´ ìˆ¨ê²¨ì ¸ ìˆìœ¼ë©´ ë³´ì´ê²Œ í•¨
          contentArea.classList.remove('hidden');
        });
      });
    });

    // íŒì—… ì°½ í•¨ìˆ˜
    function openLesson(url) {
      const popupWidth = 950;
      const popupHeight = 550;
      const left = (screen.width / 2) - (popupWidth / 2);
      const top = (screen.height / 2) - (popupHeight / 2);
      window.open(
        url,
        'lessonPopup',
        `width=${popupWidth},height=${popupHeight},left=${left},top=${top},scrollbars=yes,resizable=no`
      );
    }
</script>

<div class="py-4 text-gray-500 text-center text-sm bg-gray-100" th:replace="~{fragments/footer :: footerFragment}"></div>

</body>
</html>