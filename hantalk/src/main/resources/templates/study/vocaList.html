<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>단어 목록</title>

  <!-- 헤더삽입 -->
  <title>자료실</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

</head>
<body class="min-h-screen flex flex-col">

<!-- 헤더 -->
<div th:replace="~{fragments/header :: headerFragment}"></div>

<!-- 본문 -->
<main class="flex-1 p-4">
  <h1>단어 목록</h1>

  <form th:action="@{/study/vocaList}" method="get" style="margin-bottom:12px;">
    <input type="text" name="kw" th:value="${kw}" placeholder="단어 또는 의미 검색">
    <button type="submit">검색</button>
  </form>

  <table>
    <thead>
    <tr>
      <th>순번</th>
      <th>단어</th>
      <th>뜻</th>
      <th>등록일</th>
    </tr>
    </thead>
    <tbody>
    <tr th:if="${paging == null || paging.content.isEmpty()}">
      <td colspan="4">단어 데이터가 존재하지 않습니다.</td>
    </tr>
    <tr th:each="voca, loop : ${paging.content}">
      <td th:text="${paging.number * paging.size + loop.count}"></td>
      <td th:text="${voca.vocabulary}"></td>
      <td th:text="${voca.description}"></td>
      <td th:text="${#temporals.format(voca.createDate, 'yyyy-MM-dd')}"></td>
    </tr>
    </tbody>
  </table>

  <div th:if="${paging != null && !paging.isEmpty()}" class="pagination" style="margin-top:12px;">
    <ul>
      <li th:if="${hasPrevBlock}">
        <a th:href="@{|?page=${prevBlockPage}&kw=${kw}|}">이전</a>
      </li>
      <li th:each="p : ${#numbers.sequence(start, end)}" th:classappend="${p == currentPage} ? 'active'">
        <a th:href="@{|?page=${p}&kw=${kw}|}" th:text="${p + 1}"></a>
      </li>
      <li th:if="${hasNextBlock}">
        <a th:href="@{|?page=${nextBlockPage}&kw=${kw}|}">다음</a>
      </li>
    </ul>
  </div>
</main>

<!-- 푸터 -->
<div th:replace="~{fragments/footer :: footerFragment}"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>