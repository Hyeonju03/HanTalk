<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${video.title} + ' | 강의 상세 보기'"></title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Tailwind CSS 커스텀 색상 변수 적용 */
    @layer base {
      :root {
        --color-background: #FDFBFF;
        --color-main: #B8E0D2;
        --color-sub: #FFDEE9;
        --color-accent: #CDE7F0;
      }
    }
    .bg-main { background-color: var(--color-main); }
    .bg-sub { background-color: var(--color-sub); }
  </style>
</head>
<body class="bg-[#FDFBFF] font-sans text-gray-800 flex flex-col min-h-screen">

<div th:replace="~{fragments/header :: headerFragment}"></div>

<main class="flex-1 container mx-auto px-4 py-8">
  <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 md:p-8">

    <h1 class="text-3xl font-extrabold text-gray-800 mb-2" th:text="${video.title}">제목</h1>

    <div class="text-gray-500 text-sm mb-6 flex items-center">
      <span>등록일: <span th:text="${#temporals.format(video.createDate, 'yyyy-MM-dd')}"></span></span>
      <span class="ml-4" th:if="${video.updateDate != null}">
        수정일: <span th:text="${#temporals.format(video.updateDate, 'yyyy-MM-dd')}"></span>
      </span>
    </div>

    <div class="flex items-center space-x-2 mb-6">
      <button id="btnLike" type="button" class="bg-sub hover:bg-[#e6c5d1] text-white px-4 py-2 rounded-full font-bold transition-colors duration-300">
        👍 좋아요
      </button>
      <span id="likeCount" class="text-lg font-medium text-gray-700">0</span>
    </div>

    <div class="video-container aspect-video w-full mb-6 rounded-lg overflow-hidden shadow-lg">
      <video width="100%" height="100%" controls class="w-full h-full object-cover">
        <source th:src="@{'/videos/' + ${video.videoName}}" type="video/mp4">
        이 브라우저는 video 태그를 지원하지 않습니다.
      </video>
    </div>

    <p class="text-gray-700 leading-relaxed mb-8" th:text="${video.content}">설명</p>

    <div class="flex items-center space-x-4">
      <a th:href="@{/video/contentList}" class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors duration-300">
        <span class="mr-2">←</span> 목록으로
      </a>

      <a th:if="${isAdmin}" th:href="@{/video/admin/sujung/{id}(id=${video.videoId})}" class="inline-flex items-center px-4 py-2 bg-main text-white rounded-md font-semibold hover:bg-[#a3ccbf] transition-colors duration-300">
        <span class="mr-2">✏️</span> 수정
      </a>
    </div>

  </div>
</main>

<div th:replace="~{fragments/footer :: footerFragment}"></div>

</body>
</html>