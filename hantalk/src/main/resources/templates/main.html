<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HanTalk - 스크롤 페이지</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.2/fullpage.min.css">
  <style>
    /* Custom styles for Header Navigation */
    .header-nav-link.active {
      font-weight: bold;
      color: #3b82f6; /* Tailwind's blue-500 */
      border-bottom: 2px solid #3b82f6;
    }

    /* Tailwind Custom Animation */
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .animate-float-slow {
      animation: float 4s ease-in-out infinite;
    }
  </style>
</head>
<body>

<div id="fullpage">

  <!-- Main Section: Overlapping Image Design -->
  <div class="section relative flex flex-col items-center justify-center p-8 overflow-hidden bg-[#B5D0E3]">
    <!-- Background element (book icon) -->
    <div class="absolute inset-0 z-0">
      <!-- Book Icon (top right) -->
      <img src="https://placehold.co/200x200/F29DA0/FFFFFF?text=Book+Icon"
           alt="Book Icon"
           class="absolute top-12 right-12 w-32 h-auto animate-float-slow"
           style="filter: drop-shadow(0 4px 12px rgba(0,0,0,0.1));">
    </div>

    <!-- Central content area -->
    <div class="relative z-10 flex flex-col items-center justify-center text-center">
      <!-- Image container: Used for overlapping images -->
      <div class="relative w-[56rem] h-[36rem] mb-8">

        <!-- First image (bottom, no rotation) -->
        <img src="/images/main_mint.PNG"
             alt="HanTalk Main Image 1"
             class="absolute top-1/2 left-1/2 -translate-x-[100%] -translate-y-[45%] w-[85%] h-auto drop-shadow-lg z-10 transition-all duration-500 ease-in-out"
             style="filter: drop-shadow(0 8px 20px rgba(0,0,0,0.2));">

        <!-- Second image (top, no rotation) -->
        <img src="/images/main_yellow.png"
             alt="HanTalk Main Image 2"
             class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[55%] w-[80%] h-auto drop-shadow-lg z-20 transition-all duration-500 ease-in-out"
             style="filter: drop-shadow(0 8px 20px rgba(0,0,0,0.2));">
      </div>

      <h1 class="text-7xl font-extrabold text-[#2F4160] mb-6 animate-fade-in-down drop-shadow-lg">HanTalk</h1>
      <p class="text-4xl text-[#2F4160] mb-12 animate-fade-in-up drop-shadow-lg">한글 학습의 새로운 시작</p>

      <!-- 'Start' button design -->
      <a th:href="@{/hantalk/home}"
         class="px-12 py-5 bg-[#F29DA0] text-white font-extrabold rounded-full shadow-2xl transition-all duration-500 ease-in-out transform hover:scale-110 hover:bg-[#F29DA0] hover:saturate-150">
        <span class="relative z-10">시작하기</span>
      </a>
    </div>
  </div>

  <!-- Section 2: Korean Learning -->
  <div class="section" data-anchor="learn">
    <div class="flex flex-col lg:flex-row items-center justify-center p-8 h-full bg-white">
      <div class="lg:w-1/2 p-4 text-center lg:text-left animate-slide-in-left">
        <h2 class="text-4xl font-bold text-gray-800 mb-4">한글 학습</h2>
        <p class="text-lg text-gray-600 mb-4">재미있는 게임과 다양한 콘텐츠로 한글을 쉽고 재미있게 배워보세요.</p>
        <button class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-full shadow-md hover:bg-blue-700 transition duration-300">자세히 보기</button>
      </div>
      <div class="lg:w-1/2 flex justify-center p-4">
        <img src="https://placehold.co/600x400/2596be/FFFFFF?text=LEARN+KOREAN" alt="한글 학습 이미지" class="rounded-lg shadow-xl animate-fade-in-right">
      </div>
    </div>
  </div>

  <!-- Section 3: Vocabulary Book -->
  <div class="section" data-anchor="vocabulary">
    <div class="flex flex-col lg:flex-row items-center justify-center p-8 h-full bg-gray-100">
      <div class="lg:w-1/2 flex justify-center p-4">
        <img src="https://placehold.co/600x400/94a3b8/FFFFFF?text=VOCABULARY+BOOK" alt="단어장 이미지" class="rounded-lg shadow-xl animate-fade-in-left">
      </div>
      <div class="lg:w-1/2 p-4 text-center lg:text-left animate-slide-in-right">
        <h2 class="text-4xl font-bold text-gray-800 mb-4">나만의 단어장</h2>
        <p class="text-lg text-gray-600 mb-4">새롭게 배운 단어를 저장하고 언제든지 복습할 수 있는 단어장을 만들어보세요.</p>
        <button class="px-6 py-3 bg-gray-800 text-white font-semibold rounded-full shadow-md hover:bg-gray-900 transition duration-300">자세히 보기</button>
      </div>
    </div>
  </div>

  <!-- Section 4: Video Learning -->
  <div class="section" data-anchor="video-learn">
    <div class="flex flex-col items-center justify-center p-8 h-full bg-white">
      <h2 class="text-4xl font-bold text-gray-800 mb-4 animate-fade-in-down">비디오 학습</h2>
      <p class="text-lg text-gray-600 mb-8 text-center animate-fade-in-up">다양한 주제의 비디오 콘텐츠로 한글을 생생하게 배워보세요.</p>
      <img src="https://placehold.co/600x400/81c2d5/FFFFFF?text=VIDEO+LEARN" alt="비디오 학습 이미지" class="rounded-lg shadow-xl animate-fade-in-down">
    </div>
  </div>

  <!-- Section 5: Materials -->
  <div class="section" data-anchor="materials">
    <div class="flex flex-col items-center justify-center p-8 h-full bg-gray-100">
      <h2 class="text-4xl font-bold text-gray-800 mb-4 animate-fade-in-up">자료실</h2>
      <p class="text-lg text-gray-600 mb-8 text-center animate-fade-in-down">학습 자료와 워크시트를 무료로 다운로드하여 활용해보세요.</p>
      <img src="https://placehold.co/600x400/a5b4fc/FFFFFF?text=MATERIALS" alt="자료실 이미지" class="rounded-lg shadow-xl animate-fade-in-up">
    </div>
  </div>

  <!-- Section 6: Community -->
  <div class="section" data-anchor="community">
    <div class="flex flex-col items-center justify-center p-8 h-full bg-center-cover bg-[url('https://placehold.co/1920x1080/fcd34d/FFFFFF?text=COMMUNITY')]">
      <h2 class="text-5xl font-extrabold text-white text-shadow-lg drop-shadow-md mb-4 animate-fade-in-down">함께 배우는 커뮤니티</h2>
      <p class="text-xl text-white text-shadow-md mb-8 animate-fade-in-up">질문을 공유하고, 다른 학습자들과 소통하며 함께 성장하세요.</p>
      <button class="px-8 py-4 bg-white text-yellow-600 font-bold rounded-full shadow-lg hover:bg-gray-100 transition duration-300 transform hover:scale-105">커뮤니티 가기</button>
    </div>
  </div>

  <!-- Section 7: Point Shop -->
  <div class="section" data-anchor="shop">
    <div class="flex flex-col items-center justify-center p-8 h-full bg-white">
      <h2 class="text-4xl font-bold text-gray-800 mb-4 animate-fade-in-down">포인트 상점</h2>
      <p class="text-lg text-gray-600 mb-8 text-center animate-fade-in-up">다양한 활동으로 포인트를 모아 원하는 아이템으로 교환하세요.</p>
      <img src="https://placehold.co/600x400/8d8a7c/FFFFFF?text=POINT+SHOP" alt="포인트 상점 이미지" class="rounded-lg shadow-xl animate-fade-in-down">
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.2/fullpage.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', (event) => {
    // Fullpage.js instance
    let myFullpage = new fullpage('#fullpage', {
      licenseKey: 'open-source-gplv3-license',
      autoScrolling: true,
      navigation: true,
      anchors: ['home', 'learn', 'vocabulary', 'video-learn', 'materials', 'community', 'shop'],
      sectionsColor: ['#B5D0E3', '#f8f9fa', '#e2e8f0', '#ffffff', '#e2e8f0', '#fcd34d', '#ffffff'],
      fixedElements: '#fullpage-header, #fullpage-footer',

      onLeave: function(origin, destination, direction) {
        // Remove animation classes from previous section
        const prevSection = origin.item;
        prevSection.querySelectorAll('[class*="animate-"]').forEach(el => {
            el.classList.forEach(className => {
                if (className.startsWith('animate-')) {
                    el.classList.remove(className);
                }
            });
        });

        // Add animation classes to the current section
        const currentSection = destination.item;
        currentSection.querySelectorAll('[class*="animate-"]').forEach(el => {
            const animationClass = el.dataset.animation;
            if (animationClass) {
                el.classList.add(animationClass);
            }
        });

        // Update header navigation
        updateHeaderNav(destination.anchor);
      },

      afterRender: function() {
        // Store initial animation classes
        const allElements = document.querySelectorAll('.section [class*="animate-"]');
        allElements.forEach(el => {
            const animationClass = el.classList.value.split(' ').filter(c => c.startsWith('animate-'))[0];
            el.dataset.animation = animationClass;
            el.classList.remove(animationClass);
        });

        // Apply animations to the first section on initial load
        const firstSection = document.querySelector('.section');
        const elementsInFirstSection = firstSection.querySelectorAll('[data-animation]');
        elementsInFirstSection.forEach(el => {
          el.classList.add(el.dataset.animation);
        });
      }
    });

    // Header navigation click event
    const headerNavLinks = document.querySelectorAll('#fullpage-header a');
    headerNavLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        const targetSection = this.getAttribute('href');
        if (targetSection.startsWith('#')) {
          e.preventDefault();
          fullpage_api.moveTo(targetSection.substring(1));
        }
      });
    });

    // Function to update header navigation active state
    function updateHeaderNav(activeAnchor) {
      document.querySelectorAll('#fullpage-header a').forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + activeAnchor) {
          link.classList.add('active');
        }
      });
    }

    // Initial load: set active navigation item and start animation
    if (fullpage_api && fullpage_api.getActiveSection) {
      updateHeaderNav(fullpage_api.getActiveSection().anchor);
    }
  });
</script>

</body>
</html>
